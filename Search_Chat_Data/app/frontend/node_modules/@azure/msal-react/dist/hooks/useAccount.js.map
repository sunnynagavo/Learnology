{"version":3,"file":"useAccount.js","sources":["../../src/hooks/useAccount.ts"],"sourcesContent":["/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nimport { useState, useEffect } from \"react\";\nimport { AccountEntity, } from \"@azure/msal-browser\";\nimport { useMsal } from \"./useMsal\";\nimport { getAccountByIdentifiers } from \"../utils/utilities\";\nfunction getAccount(instance, accountIdentifiers) {\n    if (!accountIdentifiers ||\n        (!accountIdentifiers.homeAccountId &&\n            !accountIdentifiers.localAccountId &&\n            !accountIdentifiers.username)) {\n        // If no account identifiers are provided, return active account\n        return instance.getActiveAccount();\n    }\n    return getAccountByIdentifiers(instance.getAllAccounts(), accountIdentifiers);\n}\n/**\n * Given 1 or more accountIdentifiers, returns the Account object if the user is signed-in\n * @param accountIdentifiers\n */\nexport function useAccount(accountIdentifiers) {\n    const { instance, inProgress, logger } = useMsal();\n    const [account, setAccount] = useState(() => getAccount(instance, accountIdentifiers));\n    useEffect(() => {\n        setAccount((currentAccount) => {\n            const nextAccount = getAccount(instance, accountIdentifiers);\n            if (!AccountEntity.accountInfoIsEqual(currentAccount, nextAccount, true)) {\n                logger.info(\"useAccount - Updating account\");\n                return nextAccount;\n            }\n            return currentAccount;\n        });\n    }, [inProgress, accountIdentifiers, instance, logger]);\n    return account;\n}\n//# sourceMappingURL=useAccount.js.map"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AAKA,SAAS,UAAU,CAAC,QAAQ,EAAE,kBAAkB,EAAE;AAClD,IAAI,IAAI,CAAC,kBAAkB;AAC3B,SAAS,CAAC,kBAAkB,CAAC,aAAa;AAC1C,YAAY,CAAC,kBAAkB,CAAC,cAAc;AAC9C,YAAY,CAAC,kBAAkB,CAAC,QAAQ,CAAC,EAAE;AAC3C;AACA,QAAQ,OAAO,QAAQ,CAAC,gBAAgB,EAAE,CAAC;AAC3C,KAAK;AACL,IAAI,OAAO,uBAAuB,CAAC,QAAQ,CAAC,cAAc,EAAE,EAAE,kBAAkB,CAAC,CAAC;AAClF,CAAC;AACD;AACA;AACA;AACA;AACO,SAAS,UAAU,CAAC,kBAAkB,EAAE;AAC/C,IAAI,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,GAAG,OAAO,EAAE,CAAC;AACvD,IAAI,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,MAAM,UAAU,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC;AAC3F,IAAI,SAAS,CAAC,MAAM;AACpB,QAAQ,UAAU,CAAC,CAAC,cAAc,KAAK;AACvC,YAAY,MAAM,WAAW,GAAG,UAAU,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC;AACzE,YAAY,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,cAAc,EAAE,WAAW,EAAE,IAAI,CAAC,EAAE;AACtF,gBAAgB,MAAM,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC;AAC7D,gBAAgB,OAAO,WAAW,CAAC;AACnC,aAAa;AACb,YAAY,OAAO,cAAc,CAAC;AAClC,SAAS,CAAC,CAAC;AACX,KAAK,EAAE,CAAC,UAAU,EAAE,kBAAkB,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC,CAAC;AAC3D,IAAI,OAAO,OAAO,CAAC;AACnB;;;;"}