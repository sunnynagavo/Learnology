{"version":3,"sources":["useLink.ts"],"sourcesContent":["import * as React from 'react';\nimport { getIntrinsicElementProps, slot } from '@fluentui/react-utilities';\nimport { useBackgroundAppearance } from '@fluentui/react-shared-contexts';\nimport { useLinkState_unstable } from './useLinkState';\nimport type { LinkProps, LinkState } from './Link.types';\n\n/**\n * Given user props, defines default props for the Link, calls useLinkState_unstable, and returns processed state.\n * @param props - User provided props to the Link component.\n * @param ref - User provided ref to be passed to the Link component.\n */\nexport const useLink_unstable = (\n  props: LinkProps,\n  ref: React.Ref<HTMLAnchorElement | HTMLButtonElement>,\n): LinkState => {\n  const backgroundAppearance = useBackgroundAppearance();\n  const { appearance = 'default', disabled = false, disabledFocusable = false, inline = false } = props;\n\n  const elementType = props.as || (props.href ? 'a' : 'button');\n\n  // Casting is required here as `as` prop would break the union between `a` and `button` types\n  const propsWithAssignedAs = { ...props, as: elementType } as LinkProps;\n\n  const state: LinkState = {\n    // Props passed at the top-level\n    appearance,\n    disabled,\n    disabledFocusable,\n    inline,\n\n    // Slots definition\n    components: {\n      root: elementType,\n    },\n\n    root: slot.always(\n      getIntrinsicElementProps<LinkProps>(elementType, {\n        ref,\n        type: elementType === 'button' ? 'button' : undefined,\n        ...propsWithAssignedAs,\n      } as const),\n      { elementType },\n    ),\n    backgroundAppearance,\n  };\n\n  useLinkState_unstable(state);\n\n  return state;\n};\n"],"names":["React","getIntrinsicElementProps","slot","useBackgroundAppearance","useLinkState_unstable","useLink_unstable","props","ref","backgroundAppearance","appearance","disabled","disabledFocusable","inline","elementType","as","href","propsWithAssignedAs","state","components","root","always","type","undefined"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,wBAAwB,EAAEC,IAAI,QAAQ,4BAA4B;AAC3E,SAASC,uBAAuB,QAAQ,kCAAkC;AAC1E,SAASC,qBAAqB,QAAQ,iBAAiB;AAGvD;;;;CAIC,GACD,OAAO,MAAMC,mBAAmB,CAC9BC,OACAC;IAEA,MAAMC,uBAAuBL;IAC7B,MAAM,EAAEM,aAAa,SAAS,EAAEC,WAAW,KAAK,EAAEC,oBAAoB,KAAK,EAAEC,SAAS,KAAK,EAAE,GAAGN;IAEhG,MAAMO,cAAcP,MAAMQ,EAAE,IAAKR,CAAAA,MAAMS,IAAI,GAAG,MAAM,QAAO;IAE3D,6FAA6F;IAC7F,MAAMC,sBAAsB;QAAE,GAAGV,KAAK;QAAEQ,IAAID;IAAY;IAExD,MAAMI,QAAmB;QACvB,gCAAgC;QAChCR;QACAC;QACAC;QACAC;QAEA,mBAAmB;QACnBM,YAAY;YACVC,MAAMN;QACR;QAEAM,MAAMjB,KAAKkB,MAAM,CACfnB,yBAAoCY,aAAa;YAC/CN;YACAc,MAAMR,gBAAgB,WAAW,WAAWS;YAC5C,GAAGN,mBAAmB;QACxB,IACA;YAAEH;QAAY;QAEhBL;IACF;IAEAJ,sBAAsBa;IAEtB,OAAOA;AACT,EAAE"}